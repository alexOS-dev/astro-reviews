---
import type { GetStaticPaths } from 'astro';

import MainLayout from '../../layouts/MainLayout.astro';
import { prisma } from '../../db';
export const getStaticPaths = (async () => {
  const places = await prisma.place.findMany();

  if (!places) throw new Error('Error getting places');

  return places.map((place) => ({
    params: {
      id: place.id,
    },
    props: { place },
  }));
}) satisfies GetStaticPaths;

const { id } = Astro.params;
const { place } = Astro.props;
---

<MainLayout>
  <h1 class='text-3xl font-extrabold'>ID: {id} {place.title}</h1>
</MainLayout>
